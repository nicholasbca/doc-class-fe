(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{48:function(e,t,a){},53:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},63:function(e,t,a){e.exports=a(82)},68:function(e,t,a){},69:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(17),c=a.n(i),o=(a(68),a(59)),r=a(5),s=a(53),d=a.n(s),m=(a(69),a(70),a(61)),u=a(21),p=a(60),f=a(35),v=a.n(f),g=function(e,t,a){var n=new v.a;n.append("file",e);var l={method:"post",url:"https://tricky-regions-melt-34-82-197-233.loca.lt/api/predict",headers:{"Content-Type":"multipart/form-data","Bypass-Tunnel-Reminder":"abc"},data:n,onUploadProgress:t,onDownloadProgress:a};return Object(p.a)(l)},h=a(41),b=a(98),E=a(57),y=a.n(E),w=a(58),x=a.n(w),S=(a(48),l.a.memo((function(e){var t=e.data,a=e.dataIndex,n=e.isCenterSlide,i=e.swipeTo,c=e.slideIndex,o="https://tricky-regions-melt-34-82-197-233.loca.lt/view_image?id="+t[a].image_id,r=t[a].document_type,s=isNaN(t[a].confidence_level)?t[a].confidence_level:Math.round(100*t[a].confidence_level)/100+"%";return l.a.createElement("div",{className:"card-card",draggable:!1,style:{width:"100%",height:"100%"}},l.a.createElement("div",{className:"cover fill ".concat(n?"off":"on")},l.a.createElement("div",{className:"card-overlay fill",onClick:function(){n||i(c)}})),l.a.createElement("div",{className:"detail fill"},l.a.createElement("div",{className:"discription"},l.a.createElement("img",{style:{width:"100%",height:"100%"},alt:"j",className:"cover-image",src:o}),l.a.createElement("div",{style:{backgroundColor:"#1B1E23"}},l.a.createElement("p",{style:{color:"white",fontSize:"12px",fontWeight:"bolder"}},r),l.a.createElement("p",{style:{color:"white",fontSize:"12px",fontWeight:"bold"}},s)))))}))),N=function(){var e=Object(n.useState)(void 0),t=Object(u.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(void 0),o=Object(u.a)(c,2),r=o[0],s=o[1],d=Object(n.useState)(0),p=Object(u.a)(d,2),f=p[0],v=p[1],E=Object(n.useState)(""),w=Object(u.a)(E,2),N=w[0],j=w[1],k=Object(n.useState)(""),O=Object(u.a)(k,2),C=O[0],_=O[1],I=Object(n.useState)([]),T=Object(u.a)(I,2),z=T[0],B=T[1];function P(e){var t=e.centerSlideDataIndex,a=e.updatePosition;return console.log("\ud83d\ude80 ~ centerSlideDataIndex--000",t),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:20,marginBottom:20}},z.map((function(t,n){var i=e.centerSlideDataIndex===n;return l.a.createElement("div",{onClick:function(){a(n)},style:{height:15,width:15,borderRadius:"100%",background:i?"white":"none",border:"1px solid white",cursor:"pointer"}})})))}Object(n.useEffect)((function(){_("-")}),[]);var D=l.a.useRef(h.b),W=l.a.useState(0),R=Object(u.a)(W,2),A=R[0],M=R[1],J=function(e){M(e)};return Object(n.useEffect)((function(){j("No file selected.")}),[]),l.a.createElement("div",null,0!==z.length&&l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",position:"relative"}},l.a.createElement(h.a,{carouselRef:D,render:function(e,t){return l.a.createElement(h.b,{ref:t,slideComponent:S,slideWidth:300,carouselWidth:e,height:500,data:z,maxVisibleSlide:5,disableSwipe:!0,customScales:[1,.85,.7,.55],transitionTime:450,onActiveSlideChange:J})}})),l.a.createElement("div",{style:{display:"inline-flex"}},l.a.createElement(b.a,{className:"card-button left",size:"small",onClick:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.goBack()},style:{margin:"10px"}},l.a.createElement(y.a,{style:{fontSize:30}})),l.a.createElement(P,{updatePosition:function(e){var t;console.log("\ud83d\ude80 ~ ition ~ index",e),console.log("\ud83d\ude80 ~centerSlideDataIndex--111",A),console.log("\ud83d\ude80 subtract",e-A),null===D||void 0===D||null===(t=D.current)||void 0===t||t.swipeTo(e-A)},centerSlideDataIndex:A}),l.a.createElement(b.a,{className:"card-button right",size:"small",onClick:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.goNext()},style:{margin:"10px"}},l.a.createElement(x.a,{style:{fontSize:30}})))),r&&l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":f,"aria-valuemin":"0","aria-valuemax":"100",style:{width:f+"%"}},f,"%")),l.a.createElement("label",{className:"btn btn-default"},l.a.createElement("label",{class:"custom-file-upload"},l.a.createElement("input",{type:"file",onChange:function(e){1===e.target.files.length?i(e.target.files):j("Please choose only 1 file")}}),"Browse")),l.a.createElement("label",{style:{fontSize:"20px",marginRight:"10px"}},a?a[0].name:N),l.a.createElement("button",{className:"btn btn-success",disabled:!a,onClick:function(){var e=a[0];v(0),s(e),_("Predicting..."),B([]),g(e,(function(e){v(Math.round(50*e.loaded/e.total))}),(function(e){v(Math.round(100*e.loaded/e.total))})).then((function(e){for(var t=Object(m.a)(e.data);t.length<3;)t.push({image_id:"blank.jpg",document_type:"This file only have",confidence_level:e.data.length+" page"});B(t),_("Success!")})).catch((function(){v(0),_("Could not upload the file!"),s(void 0)})),i(void 0)}},"Upload"),l.a.createElement("div",null,l.a.createElement("div",null,"Status: ",C)))};var j=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(o.a,{base:"/doc-class-fe"},l.a.createElement(r.c,null,l.a.createElement(r.a,{exact:!0,path:"/"},l.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),l.a.createElement("div",{className:"container",style:{width:"100%"}},l.a.createElement("div",{className:"my-3"},l.a.createElement("h3",null,"Predict")),l.a.createElement(N,null))),l.a.createElement(r.a,{path:"/page2"},l.a.createElement("p",null,"This is page 3!"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.f0bc5ff4.chunk.js.map