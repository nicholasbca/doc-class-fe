(this["webpackJsonpreact-flask-app"]=this["webpackJsonpreact-flask-app"]||[]).push([[0],{49:function(e,t,a){},54:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},63:function(e,t,a){e.exports=a(82)},68:function(e,t,a){},69:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(18),c=a.n(i),o=(a(68),a(60)),r=a(5),s=a(54),d=a.n(s),u=(a(69),a(70),a(61)),m=a(15),f=a(40),p=a(35),v=a.n(p),g=function(e,t,a){var n=new v.a;n.append("file",e);var l={method:"post",url:"https://tricky-regions-melt-34-82-197-233.loca.lt/api/predict",headers:{"Content-Type":"multipart/form-data","Bypass-Tunnel-Reminder":"abc"},data:n,onUploadProgress:t,onDownloadProgress:a};return Object(f.a)(l)},h=a(42),b=a(98),E=a(58),y=a.n(E),w=a(59),S=a.n(w),x=(a(49),l.a.memo((function(e){var t=e.data,a=e.dataIndex,i=e.isCenterSlide,c=e.swipeTo,o=e.slideIndex,r="https://tricky-regions-melt-34-82-197-233.loca.lt/view_image?id="+t[a].image_id,s=t[a].document_type,d=isNaN(t[a].confidence_level)?t[a].confidence_level:Math.round(100*t[a].confidence_level)/100+"%",u=Object(n.useState)([]),p=Object(m.a)(u,2),v=p[0],g=p[1];return Object(n.useEffect)((function(){f.a.get(r,{responseType:"blob",headers:{"Bypass-Tunnel-Reminder":"abc"}}).then((function(e){var t=new window.FileReader;t.readAsDataURL(e.data),t.onload=function(){var e=t.result;g(e)}}))}),[]),l.a.createElement("div",{className:"card-card",draggable:!1,style:{width:"100%",height:"100%"}},l.a.createElement("div",{className:"cover fill ".concat(i?"off":"on")},l.a.createElement("div",{className:"card-overlay fill",onClick:function(){i||c(o)}})),l.a.createElement("div",{className:"detail fill"},l.a.createElement("div",{className:"discription"},l.a.createElement("img",{style:{width:"100%",height:"100%"},alt:"j",className:"cover-image",src:v}),l.a.createElement("div",{style:{backgroundColor:"#1B1E23"}},l.a.createElement("p",{style:{color:"white",fontSize:"12px",fontWeight:"bolder"}},s),l.a.createElement("p",{style:{color:"white",fontSize:"12px",fontWeight:"bold"}},d)))))}))),j=function(){var e=Object(n.useState)(void 0),t=Object(m.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(void 0),o=Object(m.a)(c,2),r=o[0],s=o[1],d=Object(n.useState)(0),f=Object(m.a)(d,2),p=f[0],v=f[1],E=Object(n.useState)(""),w=Object(m.a)(E,2),j=w[0],N=w[1],O=Object(n.useState)(""),k=Object(m.a)(O,2),C=k[0],T=k[1],_=Object(n.useState)([]),B=Object(m.a)(_,2),I=B[0],R=B[1];function z(e){var t=e.centerSlideDataIndex,a=e.updatePosition;return console.log("\ud83d\ude80 ~ centerSlideDataIndex--000",t),l.a.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"20px",marginTop:20,marginBottom:20}},I.map((function(t,n){var i=e.centerSlideDataIndex===n;return l.a.createElement("div",{onClick:function(){a(n)},style:{height:15,width:15,borderRadius:"100%",background:i?"white":"none",border:"1px solid white",cursor:"pointer"}})})))}Object(n.useEffect)((function(){T("-")}),[]);var D=l.a.useRef(h.b),P=l.a.useState(0),W=Object(m.a)(P,2),A=W[0],M=W[1],U=function(e){M(e)};return Object(n.useEffect)((function(){N("No file selected.")}),[]),l.a.createElement("div",null,0!==I.length&&l.a.createElement("div",null,l.a.createElement("div",{style:{width:"100%",position:"relative"}},l.a.createElement(h.a,{carouselRef:D,render:function(e,t){return l.a.createElement(h.b,{ref:t,slideComponent:x,slideWidth:300,carouselWidth:e,height:500,data:I,maxVisibleSlide:5,disableSwipe:!0,customScales:[1,.85,.7,.55],transitionTime:450,onActiveSlideChange:U})}})),l.a.createElement("div",{style:{display:"inline-flex"}},l.a.createElement(b.a,{className:"card-button left",size:"small",onClick:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.goBack()},style:{margin:"10px"}},l.a.createElement(y.a,{style:{fontSize:30}})),l.a.createElement(z,{updatePosition:function(e){var t;console.log("\ud83d\ude80 ~ ition ~ index",e),console.log("\ud83d\ude80 ~centerSlideDataIndex--111",A),console.log("\ud83d\ude80 subtract",e-A),null===D||void 0===D||null===(t=D.current)||void 0===t||t.swipeTo(e-A)},centerSlideDataIndex:A}),l.a.createElement(b.a,{className:"card-button right",size:"small",onClick:function(){var e;return null===(e=D.current)||void 0===e?void 0:e.goNext()},style:{margin:"10px"}},l.a.createElement(S.a,{style:{fontSize:30}})))),r&&l.a.createElement("div",{className:"progress"},l.a.createElement("div",{className:"progress-bar progress-bar-info progress-bar-striped",role:"progressbar","aria-valuenow":p,"aria-valuemin":"0","aria-valuemax":"100",style:{width:p+"%"}},p,"%")),l.a.createElement("label",{className:"btn btn-default"},l.a.createElement("label",{class:"custom-file-upload"},l.a.createElement("input",{type:"file",onChange:function(e){1===e.target.files.length?i(e.target.files):N("Please choose only 1 file")}}),"Browse")),l.a.createElement("label",{style:{fontSize:"20px",marginRight:"10px"}},a?a[0].name:j),l.a.createElement("button",{className:"btn btn-success",disabled:!a,onClick:function(){var e=a[0];v(0),s(e),T("Predicting..."),R([]),g(e,(function(e){v(Math.round(50*e.loaded/e.total))}),(function(e){v(Math.round(100*e.loaded/e.total))})).then((function(e){for(var t=Object(u.a)(e.data);t.length<3;)t.push({image_id:"blank.jpg",document_type:"This file only have",confidence_level:e.data.length+" page"});R(t),T("Success!")})).catch((function(){v(0),T("Could not upload the file!"),s(void 0)})),i(void 0)}},"Upload"),l.a.createElement("div",null,l.a.createElement("div",null,"Status: ",C)))};var N=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement(o.a,{base:"/doc-class-fe"},l.a.createElement(r.c,null,l.a.createElement(r.a,{exact:!0,path:"/"},l.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),l.a.createElement("div",{className:"container",style:{width:"100%"}},l.a.createElement("div",{className:"my-3"},l.a.createElement("h3",null,"Predict")),l.a.createElement(j,null))),l.a.createElement(r.a,{path:"/page2"},l.a.createElement("p",null,"This is page 3!"))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[63,1,2]]]);
//# sourceMappingURL=main.9d3d0c5e.chunk.js.map